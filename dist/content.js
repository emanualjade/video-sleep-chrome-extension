(()=>{"use strict";(()=>{function e(e){return e.replace(/^(https?:\/\/)?(www\.)?/,"").toLowerCase()}function t(t,o){const n=e(t);return o.some((t=>{const o=e(t);return n.endsWith(o)}))}function o(){const e=document.getElementById("black-overlay");e&&document.body.removeChild(e)}let n,s=[];function c(e){i(),n=window.setTimeout((()=>{const e=document.querySelector("video");e&&!e.paused&&(e.pause(),function(){const e=document.createElement("div");e.id="black-overlay",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.backgroundColor="black",e.style.opacity="1",e.style.zIndex="9999",e.addEventListener("click",o),document.body.appendChild(e)}())}),e)}function i(){void 0!==n&&(clearTimeout(n),n=void 0)}function u(e){switch(e){case"pause30":return 18e5;case"pause45":return 27e5;case"pause60":return 36e5;case"pause5":return 3e5;default:return}}chrome.runtime.onMessage.addListener((e=>{if(void 0===e.excludeHosts){if(t(window.location.hostname,s))return console.log("Host is excluded from pausing"),void i();void 0!==e.startPauseTimer&&(i(),c(e.startPauseTimer)),e.clearPausing&&i()}else s=e.excludeHosts})),chrome.storage.sync.get(null,(e=>{var o;const n=u(e.activePause);s=null!==(o=e.excludeHosts)&&void 0!==o?o:[],t(window.location.hostname,s)?console.log("Host is excluded from pausing"):(void 0!==n&&c(n),function(){const e=document.querySelector("video");e&&e.addEventListener("play",(()=>{chrome.storage.sync.get(null,(e=>{const t=u(e.activePause);void 0!==t&&c(t)}))}))}())}))})()})();
//# sourceMappingURL=content.js.map