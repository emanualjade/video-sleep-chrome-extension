{"version":3,"file":"popup.js","mappings":"mBAAA,MAAMA,EAAeC,SAASC,eAC5B,UAEIC,EAAgBF,SAASC,eAC7B,WAEIE,EAAgBH,SAASC,eAC7B,WAEIG,EAAgBJ,SAASC,eAC7B,WAIF,SAASI,EAAkBC,EAAsBC,GAC3CR,IACFA,EAAaS,YACXD,GAA0B,WAAjBD,EAA4B,qBAAuB,aAC9DP,EAAaU,UAAUC,OAAO,SAAUH,GAA0B,WAAjBD,IAE/CJ,IACFA,EAAcM,YACZD,GAA0B,YAAjBD,EACL,sBACA,cACNJ,EAAcO,UAAUC,OACtB,SACAH,GAA0B,YAAjBD,IAGTH,IACFA,EAAcK,YACZD,GAA0B,YAAjBD,EACL,sBACA,cACNH,EAAcM,UAAUC,OACtB,SACAH,GAA0B,YAAjBD,IAGTF,IACFA,EAAcI,YACZD,GAA0B,YAAjBD,EACL,sBACA,cACNF,EAAcK,UAAUC,OACtB,SACAH,GAA0B,YAAjBD,GAGf,CAGA,SAASK,EAAgBL,GACvB,IAAIM,EAAY,GACK,YAAjBN,EAA4BM,EAAY,KAClB,YAAjBN,EAA4BM,EAAY,KACvB,YAAjBN,EAA4BM,EAAY,KACvB,WAAjBN,IAA2BM,EAAY,KAEhDC,OAAOC,OAAOC,aAAa,CAAEC,KAAMJ,GACrC,CAQA,SAASK,EAAkBC,EAAkBC,GAC3CN,OAAOO,QAAQC,KAAKC,IAAI,eAAgBC,IAClCA,EAAKC,cAAgBN,EAEvBL,OAAOO,QAAQC,KAAKI,OAAO,eAAe,KACxCpB,EAAkBa,GAAU,GAC5BL,OAAOC,OAAOC,aAAa,CAAEC,KAAM,KACnCH,OAAOa,KAAKC,MAAM,CAAEC,QAAQ,EAAMC,eAAe,IAASH,SACrCI,IAAfJ,EAAK,GAAGK,IACVlB,OAAOa,KAAKM,YAAYN,EAAK,GAAGK,GAAI,CAAEE,UAAU,GAClD,GACA,IAIJpB,OAAOO,QAAQC,KAAKa,IAAI,CAAEV,YAAaN,IAAY,KACjDb,EAAkBa,GAAU,GAC5BP,EAAgBO,GAChBL,OAAOa,KAAKC,MAAM,CAAEC,QAAQ,EAAMC,eAAe,IAASH,SACrCI,IAAfJ,EAAK,GAAGK,IACVlB,OAAOa,KAAKM,YAAYN,EAAK,GAAGK,GAAI,CAAEI,gBAAiBhB,GACzD,GACA,GAEN,GAEJ,CA/BAN,OAAOO,QAAQC,KAAKC,IAAI,eAAgBC,IACtClB,EAAkBkB,EAAKC,aAAa,GACpCb,EAAgBY,EAAKC,YAAY,IAgCnCtB,SAAAA,EAAekC,iBAAiB,SAAS,IACvCnB,EAAkB,UAAW,QAE/Bd,SAAAA,EAAeiC,iBAAiB,SAAS,IACvCnB,EAAkB,UAAW,QAE/Bb,SAAAA,EAAegC,iBAAiB,SAAS,IACvCnB,EAAkB,UAAW,QAE/BlB,SAAAA,EAAcqC,iBAAiB,SAAS,IACtCnB,EAAkB,SAAU,M","sources":["webpack://video-sleep-chrome-extension/./src/popup.ts"],"sourcesContent":["const pause5Button = document.getElementById(\n  \"pause5\"\n) as HTMLButtonElement | null;\nconst pause30Button = document.getElementById(\n  \"pause30\"\n) as HTMLButtonElement | null;\nconst pause45Button = document.getElementById(\n  \"pause45\"\n) as HTMLButtonElement | null;\nconst pause60Button = document.getElementById(\n  \"pause60\"\n) as HTMLButtonElement | null;\n\n// Function to update button text and state\nfunction updateButtonState(activeButton: string, state: boolean): void {\n  if (pause5Button) {\n    pause5Button.textContent =\n      state && activeButton === \"pause5\" ? \"Disable Pause in 5\" : \"Pause in 5\";\n    pause5Button.classList.toggle(\"active\", state && activeButton === \"pause5\");\n  }\n  if (pause30Button) {\n    pause30Button.textContent =\n      state && activeButton === \"pause30\"\n        ? \"Disable Pause in 30\"\n        : \"Pause in 30\";\n    pause30Button.classList.toggle(\n      \"active\",\n      state && activeButton === \"pause30\"\n    );\n  }\n  if (pause45Button) {\n    pause45Button.textContent =\n      state && activeButton === \"pause45\"\n        ? \"Disable Pause in 45\"\n        : \"Pause in 45\";\n    pause45Button.classList.toggle(\n      \"active\",\n      state && activeButton === \"pause45\"\n    );\n  }\n  if (pause60Button) {\n    pause60Button.textContent =\n      state && activeButton === \"pause60\"\n        ? \"Disable Pause in 60\"\n        : \"Pause in 60\";\n    pause60Button.classList.toggle(\n      \"active\",\n      state && activeButton === \"pause60\"\n    );\n  }\n}\n\n// Function to update the badge text\nfunction updateBadgeText(activeButton: string): void {\n  let badgeText = \"\";\n  if (activeButton === \"pause30\") badgeText = \"30\";\n  else if (activeButton === \"pause45\") badgeText = \"45\";\n  else if (activeButton === \"pause60\") badgeText = \"60\";\n  else if (activeButton === \"pause5\") badgeText = \"5\";\n\n  chrome.action.setBadgeText({ text: badgeText });\n}\n\n// Load the current state from chrome storage\nchrome.storage.sync.get(\"activePause\", (data: { [key: string]: string }) => {\n  updateButtonState(data.activePause, true);\n  updateBadgeText(data.activePause);\n});\n\nfunction handleButtonClick(buttonId: string, delay: number): void {\n  chrome.storage.sync.get(\"activePause\", (data: { [key: string]: string }) => {\n    if (data.activePause === buttonId) {\n      // Disable the active pause\n      chrome.storage.sync.remove(\"activePause\", () => {\n        updateButtonState(buttonId, false);\n        chrome.action.setBadgeText({ text: \"\" });\n        chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n          if (tabs[0].id !== undefined) {\n            chrome.tabs.sendMessage(tabs[0].id, { pauseNow: true });\n          }\n        });\n      });\n    } else {\n      // Set new active pause\n      chrome.storage.sync.set({ activePause: buttonId }, () => {\n        updateButtonState(buttonId, true);\n        updateBadgeText(buttonId);\n        chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n          if (tabs[0].id !== undefined) {\n            chrome.tabs.sendMessage(tabs[0].id, { startPauseTimer: delay });\n          }\n        });\n      });\n    }\n  });\n}\n\n// Event listeners for each button\npause30Button?.addEventListener(\"click\", () =>\n  handleButtonClick(\"pause30\", 1800000)\n); // 30 minutes\npause45Button?.addEventListener(\"click\", () =>\n  handleButtonClick(\"pause45\", 2700000)\n); // 45 minutes\npause60Button?.addEventListener(\"click\", () =>\n  handleButtonClick(\"pause60\", 3600000)\n); // 60 minutes\npause5Button?.addEventListener(\"click\", () =>\n  handleButtonClick(\"pause5\", 300000)\n); // 5 minutes\n"],"names":["pause5Button","document","getElementById","pause30Button","pause45Button","pause60Button","updateButtonState","activeButton","state","textContent","classList","toggle","updateBadgeText","badgeText","chrome","action","setBadgeText","text","handleButtonClick","buttonId","delay","storage","sync","get","data","activePause","remove","tabs","query","active","currentWindow","undefined","id","sendMessage","pauseNow","set","startPauseTimer","addEventListener"],"sourceRoot":""}