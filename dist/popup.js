(()=>{"use strict";(()=>{const e=document.getElementById("pause5"),t=document.getElementById("pause30"),s=document.getElementById("pause45"),o=document.getElementById("pause60"),n={pause5:e,pause30:t,pause45:s,pause60:o};function c(e,t){for(const e in n){const t=n[e];t&&(t.classList.remove("active"),t.textContent=`Pause in ${e.slice(5)}`)}if(!e)return;const s=n[e];s&&(s.textContent=t?`Disable Pause in ${e.slice(5)}`:`Pause in ${e.slice(5)}`,s.classList.toggle("active",t))}function a(e){let t="";"pause30"===e?t="30":"pause45"===e?t="45":"pause60"===e?t="60":"pause5"===e&&(t="5"),chrome.action.setBadgeText({text:t}).catch(console.error)}function i(e,t){chrome.storage.sync.get("activePause",(s=>{s.activePause===e?chrome.storage.sync.remove("activePause",(()=>{c(e,!1),chrome.action.setBadgeText({text:""}).catch(console.error),chrome.tabs.query({active:!0,currentWindow:!0},(e=>{if(void 0!==e[0].id){const t={clearPausing:!0};chrome.tabs.sendMessage(e[0].id,t).catch(console.error)}}))})):chrome.storage.sync.set({activePause:e},(()=>{c(e,!0),a(e),chrome.tabs.query({active:!0,currentWindow:!0},(e=>{if(void 0!==e[0].id){const s={startPauseTimer:t};chrome.tabs.sendMessage(e[0].id,s).catch(console.error)}}))}))}))}chrome.storage.sync.get("activePause",(e=>{c(e.activePause,!0),a(e.activePause)})),null==t||t.addEventListener("click",(()=>i("pause30",18e5))),null==s||s.addEventListener("click",(()=>i("pause45",27e5))),null==o||o.addEventListener("click",(()=>i("pause60",36e5))),null==e||e.addEventListener("click",(()=>i("pause5",3e5)));const r=document.querySelector("#go-to-options");r?r.addEventListener("click",(function(){chrome.runtime.openOptionsPage?chrome.runtime.openOptionsPage().catch((e=>{console.error("Could not open options page",e)})):window.open(chrome.runtime.getURL("options.html"))})):console.error("Could not find options element")})()})();
//# sourceMappingURL=popup.js.map