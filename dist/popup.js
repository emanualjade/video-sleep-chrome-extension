/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/*!**********************!*\
  !*** ./src/popup.ts ***!
  \**********************/

const pause5Button = document.getElementById("pause5");
const pause30Button = document.getElementById("pause30");
const pause45Button = document.getElementById("pause45");
const pause60Button = document.getElementById("pause60");
// Function to update button text and state
function updateButtonState(activeButton, state) {
    if (pause5Button) {
        pause5Button.textContent =
            state && activeButton === "pause5" ? "Disable Pause in 5" : "Pause in 5";
        pause5Button.classList.toggle("active", state && activeButton === "pause5");
    }
    if (pause30Button) {
        pause30Button.textContent =
            state && activeButton === "pause30"
                ? "Disable Pause in 30"
                : "Pause in 30";
        pause30Button.classList.toggle("active", state && activeButton === "pause30");
    }
    if (pause45Button) {
        pause45Button.textContent =
            state && activeButton === "pause45"
                ? "Disable Pause in 45"
                : "Pause in 45";
        pause45Button.classList.toggle("active", state && activeButton === "pause45");
    }
    if (pause60Button) {
        pause60Button.textContent =
            state && activeButton === "pause60"
                ? "Disable Pause in 60"
                : "Pause in 60";
        pause60Button.classList.toggle("active", state && activeButton === "pause60");
    }
}
// Function to update the badge text
function updateBadgeText(activeButton) {
    let badgeText = "";
    if (activeButton === "pause30")
        badgeText = "30";
    else if (activeButton === "pause45")
        badgeText = "45";
    else if (activeButton === "pause60")
        badgeText = "60";
    else if (activeButton === "pause5")
        badgeText = "5";
    chrome.action.setBadgeText({ text: badgeText }).catch(console.error);
}
// Load the current state from chrome storage
chrome.storage.sync.get("activePause", (data) => {
    updateButtonState(data.activePause, true);
    updateBadgeText(data.activePause);
});
function handleButtonClick(buttonId, delay) {
    chrome.storage.sync.get("activePause", (data) => {
        if (data.activePause === buttonId) {
            // Disable the active pause
            chrome.storage.sync.remove("activePause", () => {
                updateButtonState(buttonId, false);
                chrome.action.setBadgeText({ text: "" }).catch(console.error);
                chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {
                    if (tabs[0].id !== undefined) {
                        chrome.tabs
                            .sendMessage(tabs[0].id, { clearPausing: true })
                            .catch(console.error);
                    }
                });
            });
        }
        else {
            // Set new active pause
            chrome.storage.sync.set({ activePause: buttonId }, () => {
                updateButtonState(buttonId, true);
                updateBadgeText(buttonId);
                chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {
                    if (tabs[0].id !== undefined) {
                        chrome.tabs
                            .sendMessage(tabs[0].id, { startPauseTimer: delay })
                            .catch(console.error);
                    }
                });
            });
        }
    });
}
// Event listeners for each button
pause30Button === null || pause30Button === void 0 ? void 0 : pause30Button.addEventListener("click", () => handleButtonClick("pause30", 1800000)); // 30 minutes
pause45Button === null || pause45Button === void 0 ? void 0 : pause45Button.addEventListener("click", () => handleButtonClick("pause45", 2700000)); // 45 minutes
pause60Button === null || pause60Button === void 0 ? void 0 : pause60Button.addEventListener("click", () => handleButtonClick("pause60", 3600000)); // 60 minutes
pause5Button === null || pause5Button === void 0 ? void 0 : pause5Button.addEventListener("click", () => handleButtonClick("pause5", 300000)); // 5 minutes

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQUksRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUU7b0JBQ2hFLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxTQUFTLEVBQUUsQ0FBQzt3QkFDN0IsTUFBTSxDQUFDLElBQUk7NkJBQ1IsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxlQUFlLEVBQUUsS0FBSyxFQUFFLENBQUM7NkJBQ25ELEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDO29CQUN6QixDQUFDO2dCQUNILENBQUMsQ0FBQztZQUNKLENBQUMsQ0FBQztRQUNKLENBQUM7SUFDSCxDQUFDLENBQUM7QUFDSixDQUFDO0FBRUQsa0NBQWtDO0FBQ2xDLGFBQWEsYUFBYixhQUFhLHVCQUFiLGFBQWEsQ0FBRSxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQzVDLGlCQUFpQixDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FDdEMsRUFBQyxhQUFhO0FBQ2YsYUFBYSxhQUFiLGFBQWEsdUJBQWIsYUFBYSxDQUFFLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FDNUMsaUJBQWlCLENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQyxDQUN0QyxFQUFDLGFBQWE7QUFDZixhQUFhLGFBQWIsYUFBYSx1QkFBYixhQUFhLENBQUUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUM1QyxpQkFBaUIsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQ3RDLEVBQUMsYUFBYTtBQUNmLFlBQVksYUFBWixZQUFZLHVCQUFaLFlBQVksQ0FBRSxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQzNDLGlCQUFpQixDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FDcEMsRUFBQyxZQUFZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmlkZW8tc2xlZXAtY2hyb21lLWV4dGVuc2lvbi8uL3NyYy9wb3B1cC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwYXVzZTVCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgXCJwYXVzZTVcIixcbikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsXG5jb25zdCBwYXVzZTMwQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gIFwicGF1c2UzMFwiLFxuKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGxcbmNvbnN0IHBhdXNlNDVCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgXCJwYXVzZTQ1XCIsXG4pIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbFxuY29uc3QgcGF1c2U2MEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICBcInBhdXNlNjBcIixcbikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsXG5cbi8vIEZ1bmN0aW9uIHRvIHVwZGF0ZSBidXR0b24gdGV4dCBhbmQgc3RhdGVcbmZ1bmN0aW9uIHVwZGF0ZUJ1dHRvblN0YXRlKGFjdGl2ZUJ1dHRvbjogc3RyaW5nLCBzdGF0ZTogYm9vbGVhbik6IHZvaWQge1xuICBpZiAocGF1c2U1QnV0dG9uKSB7XG4gICAgcGF1c2U1QnV0dG9uLnRleHRDb250ZW50ID1cbiAgICAgIHN0YXRlICYmIGFjdGl2ZUJ1dHRvbiA9PT0gXCJwYXVzZTVcIiA/IFwiRGlzYWJsZSBQYXVzZSBpbiA1XCIgOiBcIlBhdXNlIGluIDVcIlxuICAgIHBhdXNlNUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIsIHN0YXRlICYmIGFjdGl2ZUJ1dHRvbiA9PT0gXCJwYXVzZTVcIilcbiAgfVxuICBpZiAocGF1c2UzMEJ1dHRvbikge1xuICAgIHBhdXNlMzBCdXR0b24udGV4dENvbnRlbnQgPVxuICAgICAgc3RhdGUgJiYgYWN0aXZlQnV0dG9uID09PSBcInBhdXNlMzBcIlxuICAgICAgICA/IFwiRGlzYWJsZSBQYXVzZSBpbiAzMFwiXG4gICAgICAgIDogXCJQYXVzZSBpbiAzMFwiXG4gICAgcGF1c2UzMEJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFxuICAgICAgXCJhY3RpdmVcIixcbiAgICAgIHN0YXRlICYmIGFjdGl2ZUJ1dHRvbiA9PT0gXCJwYXVzZTMwXCIsXG4gICAgKVxuICB9XG4gIGlmIChwYXVzZTQ1QnV0dG9uKSB7XG4gICAgcGF1c2U0NUJ1dHRvbi50ZXh0Q29udGVudCA9XG4gICAgICBzdGF0ZSAmJiBhY3RpdmVCdXR0b24gPT09IFwicGF1c2U0NVwiXG4gICAgICAgID8gXCJEaXNhYmxlIFBhdXNlIGluIDQ1XCJcbiAgICAgICAgOiBcIlBhdXNlIGluIDQ1XCJcbiAgICBwYXVzZTQ1QnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXG4gICAgICBcImFjdGl2ZVwiLFxuICAgICAgc3RhdGUgJiYgYWN0aXZlQnV0dG9uID09PSBcInBhdXNlNDVcIixcbiAgICApXG4gIH1cbiAgaWYgKHBhdXNlNjBCdXR0b24pIHtcbiAgICBwYXVzZTYwQnV0dG9uLnRleHRDb250ZW50ID1cbiAgICAgIHN0YXRlICYmIGFjdGl2ZUJ1dHRvbiA9PT0gXCJwYXVzZTYwXCJcbiAgICAgICAgPyBcIkRpc2FibGUgUGF1c2UgaW4gNjBcIlxuICAgICAgICA6IFwiUGF1c2UgaW4gNjBcIlxuICAgIHBhdXNlNjBCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcbiAgICAgIFwiYWN0aXZlXCIsXG4gICAgICBzdGF0ZSAmJiBhY3RpdmVCdXR0b24gPT09IFwicGF1c2U2MFwiLFxuICAgIClcbiAgfVxufVxuXG4vLyBGdW5jdGlvbiB0byB1cGRhdGUgdGhlIGJhZGdlIHRleHRcbmZ1bmN0aW9uIHVwZGF0ZUJhZGdlVGV4dChhY3RpdmVCdXR0b246IHN0cmluZyk6IHZvaWQge1xuICBsZXQgYmFkZ2VUZXh0ID0gXCJcIlxuICBpZiAoYWN0aXZlQnV0dG9uID09PSBcInBhdXNlMzBcIikgYmFkZ2VUZXh0ID0gXCIzMFwiXG4gIGVsc2UgaWYgKGFjdGl2ZUJ1dHRvbiA9PT0gXCJwYXVzZTQ1XCIpIGJhZGdlVGV4dCA9IFwiNDVcIlxuICBlbHNlIGlmIChhY3RpdmVCdXR0b24gPT09IFwicGF1c2U2MFwiKSBiYWRnZVRleHQgPSBcIjYwXCJcbiAgZWxzZSBpZiAoYWN0aXZlQnV0dG9uID09PSBcInBhdXNlNVwiKSBiYWRnZVRleHQgPSBcIjVcIlxuXG4gIGNocm9tZS5hY3Rpb24uc2V0QmFkZ2VUZXh0KHsgdGV4dDogYmFkZ2VUZXh0IH0pLmNhdGNoKGNvbnNvbGUuZXJyb3IpXG59XG5cbi8vIExvYWQgdGhlIGN1cnJlbnQgc3RhdGUgZnJvbSBjaHJvbWUgc3RvcmFnZVxuY2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQoXCJhY3RpdmVQYXVzZVwiLCAoZGF0YTogUmVjb3JkPHN0cmluZywgc3RyaW5nPikgPT4ge1xuICB1cGRhdGVCdXR0b25TdGF0ZShkYXRhLmFjdGl2ZVBhdXNlLCB0cnVlKVxuICB1cGRhdGVCYWRnZVRleHQoZGF0YS5hY3RpdmVQYXVzZSlcbn0pXG5cbmZ1bmN0aW9uIGhhbmRsZUJ1dHRvbkNsaWNrKGJ1dHRvbklkOiBzdHJpbmcsIGRlbGF5OiBudW1iZXIpOiB2b2lkIHtcbiAgY2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQoXCJhY3RpdmVQYXVzZVwiLCAoZGF0YTogUmVjb3JkPHN0cmluZywgc3RyaW5nPikgPT4ge1xuICAgIGlmIChkYXRhLmFjdGl2ZVBhdXNlID09PSBidXR0b25JZCkge1xuICAgICAgLy8gRGlzYWJsZSB0aGUgYWN0aXZlIHBhdXNlXG4gICAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLnJlbW92ZShcImFjdGl2ZVBhdXNlXCIsICgpID0+IHtcbiAgICAgICAgdXBkYXRlQnV0dG9uU3RhdGUoYnV0dG9uSWQsIGZhbHNlKVxuICAgICAgICBjaHJvbWUuYWN0aW9uLnNldEJhZGdlVGV4dCh7IHRleHQ6IFwiXCIgfSkuY2F0Y2goY29uc29sZS5lcnJvcilcbiAgICAgICAgY2hyb21lLnRhYnMucXVlcnkoeyBhY3RpdmU6IHRydWUsIGN1cnJlbnRXaW5kb3c6IHRydWUgfSwgKHRhYnMpID0+IHtcbiAgICAgICAgICBpZiAodGFic1swXS5pZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjaHJvbWUudGFic1xuICAgICAgICAgICAgICAuc2VuZE1lc3NhZ2UodGFic1swXS5pZCwgeyBjbGVhclBhdXNpbmc6IHRydWUgfSlcbiAgICAgICAgICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2V0IG5ldyBhY3RpdmUgcGF1c2VcbiAgICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KHsgYWN0aXZlUGF1c2U6IGJ1dHRvbklkIH0sICgpID0+IHtcbiAgICAgICAgdXBkYXRlQnV0dG9uU3RhdGUoYnV0dG9uSWQsIHRydWUpXG4gICAgICAgIHVwZGF0ZUJhZGdlVGV4dChidXR0b25JZClcbiAgICAgICAgY2hyb21lLnRhYnMucXVlcnkoeyBhY3RpdmU6IHRydWUsIGN1cnJlbnRXaW5kb3c6IHRydWUgfSwgKHRhYnMpID0+IHtcbiAgICAgICAgICBpZiAodGFic1swXS5pZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjaHJvbWUudGFic1xuICAgICAgICAgICAgICAuc2VuZE1lc3NhZ2UodGFic1swXS5pZCwgeyBzdGFydFBhdXNlVGltZXI6IGRlbGF5IH0pXG4gICAgICAgICAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuICB9KVxufVxuXG4vLyBFdmVudCBsaXN0ZW5lcnMgZm9yIGVhY2ggYnV0dG9uXG5wYXVzZTMwQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cbiAgaGFuZGxlQnV0dG9uQ2xpY2soXCJwYXVzZTMwXCIsIDE4MDAwMDApLFxuKSAvLyAzMCBtaW51dGVzXG5wYXVzZTQ1QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cbiAgaGFuZGxlQnV0dG9uQ2xpY2soXCJwYXVzZTQ1XCIsIDI3MDAwMDApLFxuKSAvLyA0NSBtaW51dGVzXG5wYXVzZTYwQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cbiAgaGFuZGxlQnV0dG9uQ2xpY2soXCJwYXVzZTYwXCIsIDM2MDAwMDApLFxuKSAvLyA2MCBtaW51dGVzXG5wYXVzZTVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxuICBoYW5kbGVCdXR0b25DbGljayhcInBhdXNlNVwiLCAzMDAwMDApLFxuKSAvLyA1IG1pbnV0ZXNcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==